{"version":3,"sources":["components/ColorPicker.js","components/SubmitButton.js","utils/styleOptions.js","components/PreferenceForm.js","utils/prefPropType.js","components/Preview.js","utils/codeSample.js","components/ErrorSnackbar.js","components/Loader.js","components/Main.js","App.js","index.js","ipfs/preferences.js"],"names":["ColorPicker","state","anchorEl","openPicker","evt","preventDefault","setState","currentTarget","closePicker","handleChange","value","target","hex","props","onChange","this","classes","Fragment","Button","onClick","className","preview","style","backgroundColor","Popover","open","onClose","onChangeComplete","React","Component","withStyles","theme","createStyles","button","fontSize","marginLeft","spacing","width","height","text","icon","submitted","active","textNormal","textSubmitted","textActive","variant","color","type","disabled","PreferenceForm","PropTypes","shape","username","string","primaryColor","secondaryColor","font","codeStyle","handleCIDChange","onCIDChange","handlePrefChange","name","onPrefChange","preferences","justSaved","saving","justLoaded","Paper","root","Typography","header","onSubmit","onLoad","TextField","label","cid","fullWidth","input","Divider","divider","onSave","InputLabel","shrink","Select","MenuItem","key","styleOptions","map","padding","borderBottom","palette","paddingBottom","marginBottom","marginTop","display","SyntaxHighlighter","registerLanguage","js","Preview","getTheme","createMuiTheme","primary","main","secondary","isDark","classnames","darkTheme","lightTheme","MuiThemeProvider","AppBar","position","Toolbar","Container","container","language","codeStyles","paddingTop","margin","snackbar","error","dark","content","message","alignItems","errorIcon","marginRight","closeIcon","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","SnackbarContent","action","IconButton","justifyContent","loaded","children","CircularProgress","size","Main","ipfsLoaded","loadPreferences","a","toString","localStorage","setItem","handleLoad","handleSave","savePreferences","handleErrorClose","getItem","DefaultCid","gutterBottom","Grid","item","sm","md","App","CssBaseline","ReactDOM","render","document","getElementById","password","process","getIpfs","getIpfsWithConfig","bootstrap","validPreferences","length","ipfs","cat","resp","Error","JSON","parse","toAdd","Buffer","from","stringify","add","hash","pin","console"],"mappings":"+cAOMA,E,2MACJC,MAAQ,CAAEC,SAAU,M,EAEpBC,WAAa,SAAAC,GACXA,EAAIC,iBACJ,EAAKC,SAAS,CAAEJ,SAAUE,EAAIG,iB,EAGhCC,YAAc,WACZ,EAAKF,SAAS,CAAEJ,SAAU,Q,EAG5BO,aAAe,SAAAL,GACb,IAAMM,EAAQ,CACZC,OAAQ,CACND,MAAON,EAAIQ,MAGf,EAAKJ,cACL,EAAKK,MAAMC,SAASJ,I,wEAGZ,IAAD,EACoBK,KAAKF,MAAxBH,EADD,EACCA,MAAOM,EADR,EACQA,QACf,OACE,kBAAC,IAAMC,SAAP,KACE,kBAACC,EAAA,EAAD,CAAQC,QAASJ,KAAKZ,YACnBO,EACD,yBAAKU,UAAWJ,EAAQK,QAASC,MAAO,CAAEC,gBAAiBb,MAE7D,kBAACc,EAAA,EAAD,CACEC,OAAQV,KAAKd,MAAMC,SACnBA,SAAUa,KAAKd,MAAMC,SACrBwB,QAASX,KAAKP,aAEd,kBAAC,iBAAD,CAAgBmB,iBAAkBZ,KAAKN,qB,GAnCvBmB,IAAMC,WA+DjBC,cAfA,SAAAC,GAAK,OAClBC,YAAa,CACXC,OAAQ,CACN,QAAS,CACPC,SAAU,GACVC,WAAYJ,EAAMK,QAAQ,KAG9Bf,QAAS,CACPc,WAAYJ,EAAMK,QAAQ,GAC1BC,MAAON,EAAMK,QAAQ,GACrBE,OAAQP,EAAMK,QAAQ,OAIbN,CAAmB9B,G,kBCjBnB8B,cAVA,SAAAC,GAAK,OAClBC,YAAa,CACXC,OAAQ,CACN,QAAS,CACPC,SAAU,GACVC,WAAY,OAKLL,CA/CM,SAAAjB,GAAU,IAEzB0B,EAAMC,EADFC,EAA6D5B,EAA7D4B,UAAWC,EAAkD7B,EAAlD6B,OAAQC,EAA0C9B,EAA1C8B,WAAYC,EAA8B/B,EAA9B+B,cAAeC,EAAehC,EAAfgC,WAYtD,OAVIH,EACFH,EAAOM,EACEJ,GACTF,EAAOK,EACPJ,EAAO,kBAAC,IAAD,QAEPD,EAAOI,EACPH,EAAO3B,EAAM2B,MAIb,kBAACtB,EAAA,EAAD,CACE4B,QAAQ,YACRC,MAAM,YACNC,KAAK,SACLC,SAAUR,EACVrB,UAAWP,EAAMG,QAAQiB,QAExBM,EACAC,KC5BQ,GACb,eACA,eACA,UACA,QACA,SACA,aACA,SACA,iBACA,OACA,QACA,WACA,WACA,gBACA,M,gBCGIU,GCfSC,IAAUC,MAAM,CAC7BC,SAAUF,IAAUG,OACpBC,aAAcJ,IAAUG,OACxBE,eAAgBL,IAAUG,OAC1BvB,MAAOoB,IAAUG,OACjBG,KAAMN,IAAUG,OAChBI,UAAWP,IAAUG,S,2MDUrBK,gBAAkB,SAAAvD,GAChB,EAAKS,MAAM+C,YAAYxD,EAAIO,OAAOD,Q,EAGpCmD,iBAAmB,SAAAC,GAAI,OAAI,SAAA1D,GACzB,IAAMM,EAAQN,EAAIO,OAAOD,MACzB,EAAKG,MAAMkD,aAAaD,EAAMpD,K,wEAGtB,IAAD,EACyDK,KAAKF,MAA7DmD,EADD,EACCA,YAAaC,EADd,EACcA,UAAWC,EADzB,EACyBA,OAAQC,EADjC,EACiCA,WAAYnD,EAD7C,EAC6CA,QAEpD,OACE,kBAACoD,EAAA,EAAD,CAAOhD,UAAWJ,EAAQqD,MACxB,kBAACC,EAAA,EAAD,CAAYxB,QAAQ,KAAK1B,UAAWJ,EAAQuD,QAA5C,YAGA,0BAAMC,SAAUzD,KAAKF,MAAM4D,QACzB,kBAACC,EAAA,EAAD,CACEC,MAAM,MACNjE,MAAOK,KAAKF,MAAM+D,IAClB9D,SAAUC,KAAK4C,gBACfkB,WAAS,EACTzD,UAAWJ,EAAQ8D,QAErB,kBAAC,EAAD,CACEnC,WAAW,OACXC,cAAc,SACdJ,KAAM,kBAAC,IAAD,MACNC,UAAW0B,KAGf,kBAACY,EAAA,EAAD,CAAS3D,UAAWJ,EAAQgE,UAC5B,0BAAMR,SAAUzD,KAAKF,MAAMoE,QACzB,kBAACP,EAAA,EAAD,CACEC,MAAM,WACNjE,MAAOsD,EAAYX,SACnBvC,SAAUC,KAAK8C,iBAAiB,YAChCgB,WAAS,EACTzD,UAAWJ,EAAQ8D,QAErB,kBAACI,EAAA,EAAD,CAAYC,QAAM,GAAlB,iBACA,kBAAC,EAAD,CACEzE,MAAOsD,EAAYT,aACnBzC,SAAUC,KAAK8C,iBAAiB,kBAElC,kBAACqB,EAAA,EAAD,CAAYC,QAAM,GAAlB,mBACA,kBAAC,EAAD,CACEzE,MAAOsD,EAAYR,eACnB1C,SAAUC,KAAK8C,iBAAiB,oBAElC,kBAACqB,EAAA,EAAD,CAAYC,QAAM,GAAlB,SACA,kBAACC,EAAA,EAAD,CACE1E,MAAOsD,EAAYjC,MACnBjB,SAAUC,KAAK8C,iBAAiB,SAChCgB,WAAS,EACTzD,UAAWJ,EAAQ8D,OAEnB,kBAACO,EAAA,EAAD,CAAUC,IAAI,QAAQ5E,MAAM,SAA5B,SAGA,kBAAC2E,EAAA,EAAD,CAAUC,IAAI,OAAO5E,MAAM,QAA3B,SAIF,kBAACwE,EAAA,EAAD,CAAYC,QAAM,GAAlB,cACA,kBAACC,EAAA,EAAD,CACE1E,MAAOsD,EAAYN,UACnB5C,SAAUC,KAAK8C,iBAAiB,aAChCgB,WAAS,EACTzD,UAAWJ,EAAQ8D,OAElBS,EAAaC,IAAI,SAAAlE,GAAK,OACrB,kBAAC+D,EAAA,EAAD,CAAUC,IAAKhE,EAAOZ,MAAOY,GAC1BA,MAIP,kBAAC,EAAD,CACEqB,WAAW,OACXC,cAAc,QACdC,WAAW,YACXL,KAAM,kBAAC,IAAD,MACNC,UAAWwB,EACXvB,OAAQwB,U,GArFStC,IAAMC,YAgIpBC,cAtBA,SAAAC,GAAK,OAClBC,YAAa,CACXqC,KAAM,CACJoB,QAAS1D,EAAMK,QAAQ,GACvBC,MAAO,QAETkC,OAAQ,CACNmB,aAAa,aAAD,OAAe3D,EAAM4D,QAAQX,SACzCY,cAAe7D,EAAMK,QAAQ,GAC7ByD,aAAc9D,EAAMK,QAAQ,IAE9B4C,QAAS,CACPc,UAAW/D,EAAMK,QAAQ,GACzByD,aAAc9D,EAAMK,QAAQ,IAE9B0C,MAAO,CACLe,aAAc9D,EAAMK,QAAQ,GAC5BC,MAAO,OACP0D,QAAS,YAIAjE,CAAmBoB,G,+DE7HlC8C,IAAkBC,iBAAiB,aAAcC,K,IAE3CC,G,2MACJC,SAAW,SAAApC,GACT,OAAOqC,YAAe,CACpBV,QAAS,CACPW,QAAS,CACPC,KAAMvC,EAAYT,cAEpBiD,UAAW,CACTD,KAAMvC,EAAYR,oB,wEAMhB,IAAD,EAC+BzC,KAAKF,MADpC,IACCmD,mBADD,MACe,GADf,EACmBhD,EADnB,EACmBA,QACpBe,EAAQhB,KAAKqF,SAASpC,GACtByC,EAA+B,SAAtBzC,EAAYjC,MAE3B,OACE,kBAACqC,EAAA,EAAD,CACEhD,UAAWsF,IACT1F,EAAQqD,KACRoC,EAASzF,EAAQ2F,UAAY3F,EAAQ4F,aAGvC,kBAACC,EAAA,EAAD,CAAkB9E,MAAOA,GACvB,kBAAC+E,EAAA,EAAD,CAAQC,SAAS,YACf,kBAACC,EAAA,EAAD,KACE,kBAAC1C,EAAA,EAAD,CAAYxB,QAAQ,MAApB,aAGJ,kBAACmE,EAAA,EAAD,CAAW7F,UAAWJ,EAAQkG,WAC5B,kBAAC5C,EAAA,EAAD,CAAYxB,QAAQ,MAApB,WACWkB,EAAYX,SADvB,KAGA,kBAACnC,EAAA,EAAD,CACE6B,MAAM,UACND,QAAQ,YACR1B,UAAWJ,EAAQiB,QAHrB,WAOA,kBAACf,EAAA,EAAD,CACE6B,MAAM,YACND,QAAQ,YACR1B,UAAWJ,EAAQiB,QAHrB,aAQA,kBAAC,IAAD,CACEkF,SAAS,aACT7F,MAAO8F,EAAWpD,EAAYN,YC3E9B,mR,GDsBQ9B,IAAMC,WAwFbC,eAnBA,SAAAC,GAAK,OAClBC,YAAa,CACXqC,KAAM,CACJhC,MAAO,QAETuE,WAAY,GACZD,UAAW,CACTpF,gBAAiB,UACjBwB,MAAO,QAETmE,UAAW,CACTG,WAAYtF,EAAMK,QAAQ,GAC1BwD,cAAe7D,EAAMK,QAAQ,IAE/BH,OAAQ,CACNqF,OAAQvF,EAAMK,QAAQ,OAIbN,CAAmBqE,I,wEE3CnBrE,eArBA,SAAAC,GAAK,OAClBC,YAAa,CACXuF,SAAU,CACRhG,gBAAiBQ,EAAM4D,QAAQ6B,MAAMC,MAEvCC,QAAS,CACPnG,gBAAiB,WAEnBoG,QAAS,CACP5B,QAAS,OACT6B,WAAY,UAEdC,UAAW,CACT3F,SAAU,GACV4F,YAAa,GAEfC,UAAW,CACT7F,SAAU,OAIDJ,CA1DO,SAAAjB,GAAU,IACtBG,EAAYH,EAAZG,QACR,OACE,kBAACgH,GAAA,EAAD,CACEC,aAAc,CACZC,SAAU,SACVC,WAAY,SAEd1G,OAAQZ,EAAM2G,MACd9F,QAASb,EAAMa,QACf0G,iBAAkB,IAClBhH,UAAWJ,EAAQuG,UAEnB,kBAACc,GAAA,EAAD,CACEjH,UAAWJ,EAAQ0G,QACnBC,QACE,0BAAMvG,UAAWJ,EAAQ2G,SACvB,kBAAC,KAAD,CAAWvG,UAAWJ,EAAQ6G,YAC7BhH,EAAM2G,OAGXc,OAAQ,CACN,kBAACC,GAAA,EAAD,CAAYjD,IAAI,QAAQvC,MAAM,UAAU5B,QAASN,EAAMa,SACrD,kBAAC,KAAD,CAAWN,UAAWJ,EAAQ+G,mB,UCC3BjG,eAVA,SAAAC,GAAK,OAClBC,YAAa,CACXqC,KAAM,CACJ0B,QAAS,OACTyC,eAAgB,SAChBZ,WAAY,SACZP,WAAYtF,EAAMK,QAAQ,OAIjBN,CA5BA,SAAAjB,GAAU,IACf4H,EAAoB5H,EAApB4H,OAAQzH,EAAYH,EAAZG,QAChB,OAAIyH,EACK5H,EAAM6H,SAGb,yBAAKtH,UAAWJ,EAAQqD,MACtB,kBAACsE,GAAA,EAAD,CAAkBC,KAAM,S,okBCIxBC,G,2MACJ5I,MAAQ,CACN6I,YAAY,EACZlE,IAAK,GACLZ,YAAa,CACXX,SAAU,GACVE,aAAc,UACdC,eAAgB,UAChBzB,MAAO,QACP0B,KAAM,SACNC,UAAW,WAEbO,WAAW,EACXC,QAAQ,EACRC,YAAY,EACZqD,MAAO,M,EAQT7D,gBAAkB,SAAAjD,GAChB,EAAKJ,SAAL,MACK,EAAKL,MADV,CAEE2E,IAAKlE,EACLyD,YAAY,M,EAIhBN,iBAAmB,SAACC,EAAMpD,GACxB,EAAKJ,SAAS,SAAAL,GAAK,aACdA,EADc,CAEjB+D,YAAY,GAAD,GACN/D,EAAM+D,YADA,eAERF,EAAOpD,IAEVuD,WAAW,O,EAIf8E,gB,sCAAkB,WAAMnE,GAAN,eAAAoE,EAAA,8EAGMD,aAAgBnE,GAHtB,OAGdZ,EAHc,8DAKd,EAAK1D,SAAS,CAAEkH,MAAO,KAAMyB,aALf,2BAShBC,aAAaC,QAAQ,gBAAiBvE,GACtC,EAAKtE,SAAS,CACZsE,MACAZ,cACAG,YAAY,EACZ2E,YAAY,IAdE,uD,wDAkBlBM,W,sCAAa,WAAMhJ,GAAN,eAAA4I,EAAA,qDACX5I,EAAIC,iBACIuE,EAAQ,EAAK3E,MAAb2E,IACR,EAAKmE,gBAAgBnE,GAHV,yC,wDAMbyE,W,sCAAa,WAAMjJ,GAAN,iBAAA4I,EAAA,wDACX5I,EAAIC,mBACI2D,EAAgB,EAAK/D,MAArB+D,aAFG,wBAIT,EAAK1D,SAAS,CAAE4D,QAAQ,IAJf,kBAOKoF,aAAgBtF,GAPrB,OAOPY,EAPO,gEASP,EAAKtE,SAAS,CAAEkH,MAAO,KAAMyB,WAAY/E,QAAQ,IAT1C,2BAYTgF,aAAaC,QAAQ,gBAAiBvE,GACtC,EAAKtE,SAAS,CACZsE,MACAX,WAAW,EACXC,QAAQ,EACR4E,YAAY,IAjBL,wD,wDAsBbS,iBAAmB,SAAAnJ,GACbA,GACFA,EAAIC,iBAEN,EAAKC,SAAS,CAAEkH,MAAO,Q,wMAzEjB5C,EAAMsE,aAAaM,QAAQ,kBAAoBC,K,SAC/C1I,KAAKgI,gBAAgBnE,G,mIA2EnB,IACA5D,EAAYD,KAAKF,MAAjBG,QACR,OACE,kBAACiG,EAAA,EAAD,CAAW7F,UAAWJ,EAAQkG,WAC5B,kBAAC5C,EAAA,EAAD,CAAYxB,QAAQ,KAAK4G,cAAY,GAArC,+BAGA,kBAACC,EAAA,EAAD,CAAMzC,WAAS,EAAC9E,QAAS,GACvB,kBAACuH,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAAC,EAAD,CACElF,IAAK7D,KAAKd,MAAM2E,IAChBZ,YAAajD,KAAKd,MAAM+D,YACxBC,UAAWlD,KAAKd,MAAMgE,UACtBC,OAAQnD,KAAKd,MAAMiE,OACnBC,WAAYpD,KAAKd,MAAMkE,WACvBP,YAAa7C,KAAK4C,gBAClBI,aAAchD,KAAK8C,iBACnBY,OAAQ1D,KAAKqI,WACbnE,OAAQlE,KAAKsI,cAGjB,kBAACM,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAAC,GAAD,CAAQrB,OAAQ1H,KAAKd,MAAM6I,YACzB,kBAAC,GAAD,CACElE,IAAK7D,KAAKd,MAAM2E,IAChBZ,YAAajD,KAAKd,MAAM+D,iBAKhC,kBAAC,GAAD,CACEwD,MAAOzG,KAAKd,MAAMuH,MAClB9F,QAASX,KAAKwI,wB,GA/HL3H,IAAMC,WAoJVC,eAVA,SAAAC,GAAK,OAClBC,YAAa,CACXkF,UAAW,CACTpB,UAAW/D,EAAMK,QAAQ,IAE3BmE,KAAM,CACJR,QAAS,WAIAjE,CAAmB+G,IC/J5B9G,GAAQsE,YAAe,CAC3BV,QAAS,CAEPW,QAAS,CACPC,KAAM,WAERC,UAAW,CACTD,KAAM,cAcGwD,OATf,WACE,OACE,kBAAClD,EAAA,EAAD,CAAkB9E,MAAOA,IACvB,kBAACiI,EAAA,EAAD,MACA,kBAAC,GAAD,QCjBNC,IAASC,OAAO,kBAAC,GAAD,MAASC,SAASC,eAAe,U,4LCE3CC,EAAWC,kDAKJb,EACXa,iDAGIC,EAAO,sCAAG,sBAAAvB,EAAA,8EACPwB,YAAkB,CACvBC,UAAW,CATbH,iGAOc,yCAAH,qDAMAI,EAAmB,SAAA1G,GAC9B,OACEA,EAAYN,WACZM,EAAYT,cACwB,IAApCS,EAAYT,aAAaoH,QACzB3G,EAAYR,gBAC0B,IAAtCQ,EAAYR,eAAemH,QAC3B3G,EAAYjC,QACW,UAAtBiC,EAAYjC,OAA2C,SAAtBiC,EAAYjC,QAC9CiC,EAAYX,UACZW,EAAYN,WAIHqF,EAAe,sCAAG,WAAMnE,GAAN,mBAAAoE,EAAA,qEACVuB,IADU,cACvBK,EADuB,yBAIdA,EAAKC,IAAIjG,GAJK,OAI3BkG,EAJ2B,6DAMrB,IAAIC,MAAM,iBANW,kBAS3B/G,EAAcgH,KAAKC,MAAMH,GATE,yDAWrB,IAAIC,MAAM,oCAXW,WAaxBL,EAAiB1G,GAbO,uBAcrB,IAAI+G,MAAM,uDAdW,iCAgBtB/G,GAhBsB,+DAAH,sDAmBfsF,EAAe,sCAAG,WAAMtF,GAAN,qBAAAgF,EAAA,wDACxB0B,EAAiB1G,GADO,sBAErB,IAAI+G,MAAM,wDAFW,uBAIVR,IAJU,cAIvBK,EAJuB,OAKvBM,EAAQC,EAAOC,KAAKJ,KAAKK,UAAUrH,IALZ,kBAQd4G,EAAKU,IAAIJ,GARK,OAQ3BJ,EAR2B,+DAUrB,IAAIC,MAAM,yCAVW,kBAa3BnG,EAAMkG,EAAK,GAAGS,KAba,yDAerB,IAAIR,MAAM,uBAfW,mCAmBnBS,cAAI5G,EAAK,CAAEvB,SApENiH,uBAoEgBD,YArE/BC,0BAkD6B,2DAsB3BmB,QAAQjE,MAAR,MAtB2B,iCAyBtB5C,GAzBsB,wEAAH,wD","file":"static/js/main.3f6f1557.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles, createStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Popover from \"@material-ui/core/Popover\";\nimport { SwatchesPicker } from \"react-color\";\n\nclass ColorPicker extends React.Component {\n  state = { anchorEl: null };\n\n  openPicker = evt => {\n    evt.preventDefault();\n    this.setState({ anchorEl: evt.currentTarget });\n  };\n\n  closePicker = () => {\n    this.setState({ anchorEl: null });\n  };\n\n  handleChange = evt => {\n    const value = {\n      target: {\n        value: evt.hex\n      }\n    };\n    this.closePicker();\n    this.props.onChange(value);\n  };\n\n  render() {\n    const { value, classes } = this.props;\n    return (\n      <React.Fragment>\n        <Button onClick={this.openPicker}>\n          {value}\n          <div className={classes.preview} style={{ backgroundColor: value }} />\n        </Button>\n        <Popover\n          open={!!this.state.anchorEl}\n          anchorEl={this.state.anchorEl}\n          onClose={this.closePicker}\n        >\n          <SwatchesPicker onChangeComplete={this.handleChange} />\n        </Popover>\n      </React.Fragment>\n    );\n  }\n}\n\nColorPicker.propTypes = {\n  value: PropTypes.string,\n  onChange: PropTypes.func,\n  classes: PropTypes.objectOf(PropTypes.string)\n};\n\nconst styles = theme =>\n  createStyles({\n    button: {\n      \"& svg\": {\n        fontSize: 20,\n        marginLeft: theme.spacing(1)\n      }\n    },\n    preview: {\n      marginLeft: theme.spacing(1),\n      width: theme.spacing(2),\n      height: theme.spacing(2)\n    }\n  });\n\nexport default withStyles(styles)(ColorPicker);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles, createStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport CheckIcon from \"@material-ui/icons/Check\";\n\nconst SubmitButton = props => {\n  const { submitted, active, textNormal, textSubmitted, textActive } = props;\n  let text, icon;\n  if (active) {\n    text = textActive;\n  } else if (submitted) {\n    text = textSubmitted;\n    icon = <CheckIcon />;\n  } else {\n    text = textNormal;\n    icon = props.icon;\n  }\n\n  return (\n    <Button\n      variant=\"contained\"\n      color=\"secondary\"\n      type=\"submit\"\n      disabled={submitted}\n      className={props.classes.button}\n    >\n      {text}\n      {icon}\n    </Button>\n  );\n};\n\nSubmitButton.propTypes = {\n  textNormal: PropTypes.string.isRequired,\n  textSubmitted: PropTypes.string.isRequired,\n  textActive: PropTypes.string,\n  icon: PropTypes.element,\n  submitted: PropTypes.bool,\n  active: PropTypes.bool,\n  classes: PropTypes.objectOf(PropTypes.string)\n};\n\nconst styles = theme =>\n  createStyles({\n    button: {\n      \"& svg\": {\n        fontSize: 20,\n        marginLeft: 8\n      }\n    }\n  });\n\nexport default withStyles(styles)(SubmitButton);\n","export default [\n  \"arduinoLight\",\n  \"codepenEmbed\",\n  \"darcula\",\n  \"docco\",\n  \"github\",\n  \"googlecode\",\n  \"hybrid\",\n  \"monokaiSublime\",\n  \"nord\",\n  \"ocean\",\n  \"pojoaque\",\n  \"tomorrow\",\n  \"tomorrowNight\",\n  \"vs\"\n];\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles, createStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Divider from \"@material-ui/core/Divider\";\nimport LoadIcon from \"@material-ui/icons/Unarchive\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport ColorPicker from \"./ColorPicker\";\nimport SubmitButton from \"./SubmitButton\";\nimport styleOptions from \"../utils/styleOptions\";\nimport PrefPropType from \"../utils/prefPropType\";\n\nclass PreferenceForm extends React.Component {\n  handleCIDChange = evt => {\n    this.props.onCIDChange(evt.target.value);\n  };\n\n  handlePrefChange = name => evt => {\n    const value = evt.target.value;\n    this.props.onPrefChange(name, value);\n  };\n\n  render() {\n    const { preferences, justSaved, saving, justLoaded, classes } = this.props;\n\n    return (\n      <Paper className={classes.root}>\n        <Typography variant=\"h5\" className={classes.header}>\n          Settings\n        </Typography>\n        <form onSubmit={this.props.onLoad}>\n          <TextField\n            label=\"cid\"\n            value={this.props.cid}\n            onChange={this.handleCIDChange}\n            fullWidth\n            className={classes.input}\n          />\n          <SubmitButton\n            textNormal=\"Load\"\n            textSubmitted=\"Loaded\"\n            icon={<LoadIcon />}\n            submitted={justLoaded}\n          />\n        </form>\n        <Divider className={classes.divider} />\n        <form onSubmit={this.props.onSave}>\n          <TextField\n            label=\"Username\"\n            value={preferences.username}\n            onChange={this.handlePrefChange(\"username\")}\n            fullWidth\n            className={classes.input}\n          />\n          <InputLabel shrink>Primary Color</InputLabel>\n          <ColorPicker\n            value={preferences.primaryColor}\n            onChange={this.handlePrefChange(\"primaryColor\")}\n          />\n          <InputLabel shrink>Secondary Color</InputLabel>\n          <ColorPicker\n            value={preferences.secondaryColor}\n            onChange={this.handlePrefChange(\"secondaryColor\")}\n          />\n          <InputLabel shrink>Theme</InputLabel>\n          <Select\n            value={preferences.theme}\n            onChange={this.handlePrefChange(\"theme\")}\n            fullWidth\n            className={classes.input}\n          >\n            <MenuItem key=\"light\" value=\"light\">\n              light\n            </MenuItem>\n            <MenuItem key=\"dark\" value=\"dark\">\n              dark\n            </MenuItem>\n          </Select>\n          <InputLabel shrink>Code Style</InputLabel>\n          <Select\n            value={preferences.codeStyle}\n            onChange={this.handlePrefChange(\"codeStyle\")}\n            fullWidth\n            className={classes.input}\n          >\n            {styleOptions.map(style => (\n              <MenuItem key={style} value={style}>\n                {style}\n              </MenuItem>\n            ))}\n          </Select>\n          <SubmitButton\n            textNormal=\"Save\"\n            textSubmitted=\"Saved\"\n            textActive=\"Saving...\"\n            icon={<SaveIcon />}\n            submitted={justSaved}\n            active={saving}\n          />\n        </form>\n      </Paper>\n    );\n  }\n}\n\nPreferenceForm.propTypes = {\n  cid: PropTypes.string.isRequired,\n  preferences: PrefPropType.isRequired,\n  justSaved: PropTypes.bool.isRequired,\n  saving: PropTypes.bool.isRequired,\n  justLoaded: PropTypes.bool.isRequired,\n  onCIDChange: PropTypes.func.isRequired,\n  onPrefChange: PropTypes.func.isRequired,\n  onLoad: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n  classes: PropTypes.objectOf(PropTypes.string)\n};\n\nconst styles = theme =>\n  createStyles({\n    root: {\n      padding: theme.spacing(4),\n      width: \"100%\"\n    },\n    header: {\n      borderBottom: `1px solid ${theme.palette.divider}`,\n      paddingBottom: theme.spacing(1),\n      marginBottom: theme.spacing(2)\n    },\n    divider: {\n      marginTop: theme.spacing(4),\n      marginBottom: theme.spacing(4)\n    },\n    input: {\n      marginBottom: theme.spacing(2),\n      width: \"100%\",\n      display: \"block\"\n    }\n  });\n\nexport default withStyles(styles)(PreferenceForm);\n","import PropTypes from \"prop-types\";\n\nexport default PropTypes.shape({\n  username: PropTypes.string,\n  primaryColor: PropTypes.string,\n  secondaryColor: PropTypes.string,\n  theme: PropTypes.string,\n  font: PropTypes.string,\n  codeStyle: PropTypes.string\n});\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport classnames from \"classnames\";\nimport {\n  withStyles,\n  createStyles,\n  MuiThemeProvider,\n  createMuiTheme\n} from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Container from \"@material-ui/core/Container\";\nimport Button from \"@material-ui/core/Button\";\nimport { Light as SyntaxHighlighter } from \"react-syntax-highlighter\";\nimport js from \"react-syntax-highlighter/dist/esm/languages/hljs/javascript\";\nimport * as codeStyles from \"react-syntax-highlighter/dist/esm/styles/hljs\";\nimport codeSample from \"../utils/codeSample\";\nimport PrefPropType from \"../utils/prefPropType\";\nSyntaxHighlighter.registerLanguage(\"javascript\", js);\n\nclass Preview extends React.Component {\n  getTheme = preferences => {\n    return createMuiTheme({\n      palette: {\n        primary: {\n          main: preferences.primaryColor\n        },\n        secondary: {\n          main: preferences.secondaryColor\n        }\n      }\n    });\n  };\n\n  render() {\n    const { preferences = {}, classes } = this.props;\n    const theme = this.getTheme(preferences);\n    const isDark = preferences.theme === \"dark\";\n\n    return (\n      <Paper\n        className={classnames(\n          classes.root,\n          isDark ? classes.darkTheme : classes.lightTheme\n        )}\n      >\n        <MuiThemeProvider theme={theme}>\n          <AppBar position=\"relative\">\n            <Toolbar>\n              <Typography variant=\"h5\">Preview</Typography>\n            </Toolbar>\n          </AppBar>\n          <Container className={classes.container}>\n            <Typography variant=\"h6\">\n              Welcome {preferences.username}!\n            </Typography>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              className={classes.button}\n            >\n              Primary\n            </Button>\n            <Button\n              color=\"secondary\"\n              variant=\"contained\"\n              className={classes.button}\n            >\n              Secondary\n            </Button>\n\n            <SyntaxHighlighter\n              language=\"javascript\"\n              style={codeStyles[preferences.codeStyle]}\n            >\n              {codeSample}\n            </SyntaxHighlighter>\n          </Container>\n        </MuiThemeProvider>\n      </Paper>\n    );\n  }\n}\n\nPreview.propTypes = {\n  preferences: PrefPropType,\n  classes: PropTypes.objectOf(PropTypes.string)\n};\n\nconst styles = theme =>\n  createStyles({\n    root: {\n      width: \"100%\"\n    },\n    lightTheme: {},\n    darkTheme: {\n      backgroundColor: \"#424242\",\n      color: \"#fff\"\n    },\n    container: {\n      paddingTop: theme.spacing(3),\n      paddingBottom: theme.spacing(3)\n    },\n    button: {\n      margin: theme.spacing(1)\n    }\n  });\n\nexport default withStyles(styles)(Preview);\n","export default `\nexport const ipfsIsWorking = async ipfs => {\n  try {\n    const id = await ipfs.id();\n    if (id.id !== undefined && id.agentVersion !== undefined) {\n      return true;\n    } else {\n      return false;\n    }\n  } catch (err) {\n    return false;\n  }\n};\n`;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles, createStyles } from \"@material-ui/core/styles\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nconst ErrorSnackbar = props => {\n  const { classes } = props;\n  return (\n    <Snackbar\n      anchorOrigin={{\n        vertical: \"bottom\",\n        horizontal: \"right\"\n      }}\n      open={!!props.error}\n      onClose={props.onClose}\n      autoHideDuration={5000}\n      className={classes.snackbar}\n    >\n      <SnackbarContent\n        className={classes.content}\n        message={\n          <span className={classes.message}>\n            <ErrorIcon className={classes.errorIcon} />\n            {props.error}\n          </span>\n        }\n        action={[\n          <IconButton key=\"close\" color=\"inherit\" onClick={props.onClose}>\n            <CloseIcon className={classes.closeIcon} />\n          </IconButton>\n        ]}\n      />\n    </Snackbar>\n  );\n};\n\nErrorSnackbar.propTypes = {\n  error: PropTypes.string,\n  onClose: PropTypes.func.isRequired,\n  classes: PropTypes.objectOf(PropTypes.string)\n};\n\nconst styles = theme =>\n  createStyles({\n    snackbar: {\n      backgroundColor: theme.palette.error.dark\n    },\n    content: {\n      backgroundColor: \"inherit\"\n    },\n    message: {\n      display: \"flex\",\n      alignItems: \"center\"\n    },\n    errorIcon: {\n      fontSize: 20,\n      marginRight: 8\n    },\n    closeIcon: {\n      fontSize: 20\n    }\n  });\n\nexport default withStyles(styles)(ErrorSnackbar);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles, createStyles } from \"@material-ui/core/styles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst Loader = props => {\n  const { loaded, classes } = props;\n  if (loaded) {\n    return props.children;\n  }\n  return (\n    <div className={classes.root}>\n      <CircularProgress size={100} />\n    </div>\n  );\n};\n\nLoader.propTypes = {\n  loaded: PropTypes.bool,\n  children: PropTypes.element,\n  classes: PropTypes.objectOf(PropTypes.string)\n};\n\nconst styles = theme =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      paddingTop: theme.spacing(8)\n    }\n  });\n\nexport default withStyles(styles)(Loader);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles, createStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport PreferenceForm from \"./PreferenceForm\";\nimport Preview from \"./Preview\";\nimport ErrorSnackbar from \"./ErrorSnackbar\";\nimport Loader from \"./Loader\";\nimport {\n  loadPreferences,\n  savePreferences,\n  DefaultCid\n} from \"../ipfs/preferences\";\n\nclass Main extends React.Component {\n  state = {\n    ipfsLoaded: false,\n    cid: \"\",\n    preferences: {\n      username: \"\",\n      primaryColor: \"#6446fa\",\n      secondaryColor: \"#ff5274\",\n      theme: \"light\",\n      font: \"Roboto\",\n      codeStyle: \"darcula\"\n    },\n    justSaved: false,\n    saving: false,\n    justLoaded: false,\n    error: null\n  };\n\n  async componentDidMount() {\n    const cid = localStorage.getItem(\"preferenceCID\") || DefaultCid;\n    await this.loadPreferences(cid);\n  }\n\n  handleCIDChange = value => {\n    this.setState({\n      ...this.state,\n      cid: value,\n      justLoaded: false\n    });\n  };\n\n  handlePrefChange = (name, value) => {\n    this.setState(state => ({\n      ...state,\n      preferences: {\n        ...state.preferences,\n        [name]: value\n      },\n      justSaved: false\n    }));\n  };\n\n  loadPreferences = async cid => {\n    let preferences;\n    try {\n      preferences = await loadPreferences(cid);\n    } catch (error) {\n      this.setState({ error: error.toString() });\n      return;\n    }\n\n    localStorage.setItem(\"preferenceCID\", cid);\n    this.setState({\n      cid,\n      preferences,\n      justLoaded: true,\n      ipfsLoaded: true\n    });\n  };\n\n  handleLoad = async evt => {\n    evt.preventDefault();\n    const { cid } = this.state;\n    this.loadPreferences(cid);\n  };\n\n  handleSave = async evt => {\n    evt.preventDefault();\n    const { preferences } = this.state;\n    if (preferences) {\n      this.setState({ saving: true });\n      let cid;\n      try {\n        cid = await savePreferences(preferences);\n      } catch (error) {\n        this.setState({ error: error.toString(), saving: false });\n        return;\n      }\n      localStorage.setItem(\"preferenceCID\", cid);\n      this.setState({\n        cid,\n        justSaved: true,\n        saving: false,\n        ipfsLoaded: true\n      });\n    }\n  };\n\n  handleErrorClose = evt => {\n    if (evt) {\n      evt.preventDefault();\n    }\n    this.setState({ error: null });\n  };\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <Container className={classes.container}>\n        <Typography variant=\"h4\" gutterBottom>\n          IPFS Portable User Settings\n        </Typography>\n        <Grid container spacing={3}>\n          <Grid item sm={12} md={6}>\n            <PreferenceForm\n              cid={this.state.cid}\n              preferences={this.state.preferences}\n              justSaved={this.state.justSaved}\n              saving={this.state.saving}\n              justLoaded={this.state.justLoaded}\n              onCIDChange={this.handleCIDChange}\n              onPrefChange={this.handlePrefChange}\n              onLoad={this.handleLoad}\n              onSave={this.handleSave}\n            />\n          </Grid>\n          <Grid item sm={12} md={6}>\n            <Loader loaded={this.state.ipfsLoaded}>\n              <Preview\n                cid={this.state.cid}\n                preferences={this.state.preferences}\n              />\n            </Loader>\n          </Grid>\n        </Grid>\n        <ErrorSnackbar\n          error={this.state.error}\n          onClose={this.handleErrorClose}\n        />\n      </Container>\n    );\n  }\n}\n\nMain.propTypes = {\n  classes: PropTypes.objectOf(PropTypes.string).isRequired\n};\n\nconst styles = theme =>\n  createStyles({\n    container: {\n      marginTop: theme.spacing(8)\n    },\n    main: {\n      display: \"flex\"\n    }\n  });\n\nexport default withStyles(styles)(Main);\n","import React from \"react\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Main from \"./components/Main\";\n\nconst theme = createMuiTheme({\n  palette: {\n    // type: \"dark\",\n    primary: {\n      main: \"#6446fa\"\n    },\n    secondary: {\n      main: \"#ff5274\"\n    }\n  }\n});\n\nfunction App() {\n  return (\n    <MuiThemeProvider theme={theme}>\n      <CssBaseline />\n      <Main />\n    </MuiThemeProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","import getIpfsWithConfig from \"get-ipfs\";\nimport { pin } from \"@fission-suite/client\";\n\nconst ipfsProvider =\n  process.env.REACT_APP_INTERPLANETARY_FISSION_URL || \"https://hostless.dev\";\nconst username = process.env.REACT_APP_INTERPLANETARY_FISSION_USERNAME;\nconst password = process.env.REACT_APP_INTERPLANETARY_FISSION_PASSWORD;\nconst bootstrapNode =\n  process.env.REACT_APP_BOOTSTRAP_NODE ||\n  \"/dns4/ipfs.runfission.com/tcp/4003/wss/ipfs/QmVLEz2SxoNiFnuyLpbXsH6SvjPTrHNMU88vCQZyhgBzgw\";\n\nexport const DefaultCid =\n  process.env.REACT_APP_DEFAULT_CID ||\n  \"QmUWWqCNSdZmus7mc52um5cpqUi1CaE97AzBTY7iWfBXV9\";\n\nconst getIpfs = async () => {\n  return getIpfsWithConfig({\n    bootstrap: [bootstrapNode]\n  });\n};\n\nexport const validPreferences = preferences => {\n  return (\n    preferences.codeStyle &&\n    preferences.primaryColor &&\n    preferences.primaryColor.length === 7 &&\n    preferences.secondaryColor &&\n    preferences.secondaryColor.length === 7 &&\n    preferences.theme &&\n    (preferences.theme === \"light\" || preferences.theme === \"dark\") &&\n    preferences.username &&\n    preferences.codeStyle\n  );\n};\n\nexport const loadPreferences = async cid => {\n  const ipfs = await getIpfs();\n  let resp, preferences;\n  try {\n    resp = await ipfs.cat(cid);\n  } catch (err) {\n    throw new Error(\"CID not found\");\n  }\n  try {\n    preferences = JSON.parse(resp);\n  } catch (err) {\n    throw new Error(\"CID does not contain preferences\");\n  }\n  if (!validPreferences(preferences)) {\n    throw new Error(\"Preferences are outdated. Try saving a new version.\");\n  }\n  return preferences;\n};\n\nexport const savePreferences = async preferences => {\n  if (!validPreferences(preferences)) {\n    throw new Error(\"Preferences are not valid. Try saving a new version.\");\n  }\n  const ipfs = await getIpfs();\n  const toAdd = Buffer.from(JSON.stringify(preferences));\n  let resp, cid;\n  try {\n    resp = await ipfs.add(toAdd);\n  } catch (err) {\n    throw new Error(\"Content could not be uploaded to IPFS\");\n  }\n  try {\n    cid = resp[0].hash;\n  } catch (err) {\n    throw new Error(\"Could not parse CID\");\n  }\n  try {\n    if (username && password && ipfsProvider) {\n      await pin(cid, { username, password }, ipfsProvider);\n    }\n  } catch (err) {\n    console.error(err);\n  }\n\n  return cid;\n};\n"],"sourceRoot":""}